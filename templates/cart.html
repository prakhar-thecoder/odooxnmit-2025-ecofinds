{% extends "base.html" %}
{% block content %}

<div class="min-h-screen bg-green-50 p-8">
  <h1 class="text-3xl font-bold mb-6 text-green-800 flex items-center gap-2">
    <i class="fa-solid fa-cart-shopping"></i> My Cart
  </h1>

  {% if items %}
  <div class="space-y-4">
    {% for item in items %}
    <div class="flex bg-white shadow rounded-lg p-4 items-center">
      <img src="{{ url_for('static', filename=item.product_image) }}" 
           alt="{{ item.title }}"
           class="w-24 h-24 object-cover rounded-lg mr-4">
      <div class="flex-1">
        <h2 class="font-semibold text-green-800 flex items-center gap-1">
          <i class="fa-solid fa-box"></i> {{ item.title }}
        </h2>
        <p class="text-green-700 font-bold flex items-center gap-1 mt-1">
          <i class="fa-solid fa-indian-rupee-sign"></i> ₹{{ item.total_price }}
        </p>
      </div>
      <form action="{{ url_for('remove_from_cart', cart_id=item.cart_id) }}" method="POST"
        onsubmit="return confirm('Remove this item from your cart?');">
        <button type="submit" class="ml-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-1">
          <i class="fa-solid fa-trash"></i> Remove
        </button>
      </form>
    </div>
    {% endfor %}
  </div>

  <div class="mt-6 bg-white shadow p-4 rounded-lg flex justify-between items-center">
    <h2 class="text-xl font-bold text-green-800 flex items-center gap-2">
      <i class="fa-solid fa-wallet"></i> Grand Total: ₹{{ grand_total }}
    </h2>
    <form action="{{ url_for('checkout') }}" method="post">
      <button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold flex items-center gap-2">
        <i class="fa-solid fa-credit-card"></i> Checkout
      </button>
    </form>
  </div>
  {% else %}
  <p class="text-gray-600 flex items-center gap-2">
    <i class="fa-solid fa-cart-plus text-green-600"></i> Your cart is empty.
  </p>
  {% endif %}
</div>

{% endblock %}
